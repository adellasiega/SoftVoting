# Preprocessing

## Scaling
```{r}
# Load the data
data <- read.csv("data/train.csv", header = TRUE, sep = ",")
```

```{r}
# Perform Min-Max Normalization on each column
minmax_norm <- function(x) {
  return ((x - min(x)) / (max(x) - min(x)))
}

#data <- as.data.frame(lapply(data, minmax_norm))
```

## Balancing target variable

```{r}
# Perform ROSE oversampling
library(ROSE)
p <- 1
rose_data <- ovun.sample(CARAVAN ~ .,
                         data = data,
                         method = "over",
                         N = n_0 + round(p * n_0))$data
#Save the data
write.csv(rose_data, "data/train_rose.csv", row.names = FALSE)
```
For the ROSE oversampling, the number of samples in the minority class is set to
be equal to the number of samples in the majority class.

```{r}
table(rose_data$CARAVAN)
```



