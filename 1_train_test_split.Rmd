---
title: "Train-Test Split"
output: html_notebook
---

# Data Cleaning

```{r}
data <- read.csv("data/caravan-insurance-challenge.csv")
```
Load the data.

```{r}
dim(data)
```
Number of rows and columns.

```{r}
sum(is.na(data))
```
Number of missing values. No missing values are present in the data.

```{r}
str(data)
```
Check the data types. 
All the variables are numeric (int) except the 'ORIGIN'
variable which is a chr.
According to the data description 
(https://www.kaggle.com/datasets/uciml/caravan-insurance-challenge) the only variables that need to be one hot encoded are the 'MOSTYPE' and 'MOSHOOFD' variables. They will be dummified just before building the models.
The 'CARAVAN' variable belongs to the l4 encoding but it will be considered
as a binary variable (0 or 1) instead of a categorical variable (0,1,2,3,...)
because such variable shows only 0,1 values.


# Train-Test Split
```{r}
str(data)
```

```{r}
train <- data[data$ORIGIN == "train", ]
test <- data[data$ORIGIN == "test", ]
```
Perform the train-test split according to the variable.

```{r}
train <- train[, -which(names(train) == "ORIGIN")]
test <- test[, -which(names(test) == "ORIGIN")]
```
Remove the 'ORIGIN' variable from the data.

```{r}
dim(train)
```

```{r}
dim(test)
```

```{r}
write.csv(train, "data/train_raw.csv", row.names = FALSE)
write.csv(test, "data/test_raw.csv", row.names = FALSE)
```
Save the train and test data.